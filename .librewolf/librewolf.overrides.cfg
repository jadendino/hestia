null;

/** LIBREWOLF OVERRIDES
 * for documentation see:
 * (1): https://support.mozilla.org/en-US/kb/customizing-firefox-using-autoconfig
 * (2): https://librewolf.net/docs/settings/
 * (3): https://codeberg.org/librewolf/settings/src/branch/master/librewolf.cfg
 *
 * WARNING: make sure the first line of this file is empty. this is a known bug.
 */

lockPref("librewolf.cfg_override.version", "8.6");

/** [data persistence]
 * so I don't have to 2fa each new session
 */
pref("privacy.sanitize.sanitizeOnShutdown", false);

/** [make librewolf usable]
 * functional webapps at the cost of privacy
 */
pref("privacy.resistFingerprinting", false);
pref("webgl.disabled", false);

pref("pdfjs.enableScripting", true);

/** [cookie banners]
 * not defaulted as of librewolf 8.6
 */
pref("cookiebanners.service.mode", 1);
pref("cookiebanners.service.mode.privateBrowsing", 1);

/** [misc]
 * homepage, firefox sync
 */

// pref("identity.fxaccounts.enabled", true); // enable ff sync

pref("browser.urlbar.suggest.history", false);
pref("sidebar.revamp", true);
pref("sidebar.verticalTabs", true);
pref("browser.newtabpage.enabled", false);
pref("browser.startup.page", 3);

var homepage_enabled = true;

// NOTE: profile_directory is defined in the librewolf default config as of 8.6. it resolves to the OS-specific home directory.
if (homepage_enabled && (profile_directory = getenv("USERPROFILE") || getenv("HOME"))) {
  pref(
    "browser.startup.homepage",
    `file://${profile_directory}/.librewolf/homepage/homepage.html`
  );
} else {
   pref(
    "browser.startup.homepage",
    `about:home`
  );
 }
